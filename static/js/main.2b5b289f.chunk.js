(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(29),r=n.n(i),c=(n(61),n(127)),l=n(126),s=n(13),u=n(14),h=n(18),m=n(17),d=n(19),p=n(125),g=n(128),b=(n(63),function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"navigate",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return o.a.createElement("div",null,o.a.createElement(p.a,{fluid:!0},o.a.createElement(p.a.Header,null,o.a.createElement(p.a.Brand,null,o.a.createElement("a",{href:"#"},"Auth0 - React")),o.a.createElement(g.a,{bsStyle:"primary",className:"btn-margin",onClick:this.navigate.bind(this,"home")},"Home"),!e()&&o.a.createElement(g.a,{bsStyle:"primary",className:"btn-margin",onClick:this.login.bind(this)},"Log In"),e()&&o.a.createElement(g.a,{bsStyle:"primary",className:"btn-margin",onClick:this.logout.bind(this)},"Log Out"))))}}]),t}(a.Component)),k=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("p",null,"loading...")}}]),t}(a.Component),f=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return console.log(e()),e()||this.props.auth.login(),o.a.createElement("div",null,"Looks like you're already logged in.")}}]),t}(a.Component),v=n(53),y=n(54),E=n.n(y)()(),O=new(function(){function e(){Object(s.a)(this,e),this.auth0=new v.a.WebAuth({domain:"lukedavis.auth0.com",clientID:"1ENo4EF46bA1B2d9aC4LLIkB6Tb9ok80",redirectUri:"http://localhost:3000/callback",responseType:"token id_token",scope:"openid"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this)}return Object(u.a)(e,[{key:"login",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;this.auth0.parseHash(function(t,n){n&&n.accessToken&&n.idToken?(e.setSession(n),E.replace("/home")):t&&(E.replace("/home"),console.log(t))})}},{key:"setSession",value:function(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t),E.replace("/home")}},{key:"logout",value:function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),E.replace("/home")}},{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}}]),e}()),j=function(e,t){/access_token|id_token|error/.test(e.location.hash)&&O.handleAuthentication()};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(function(){return o.a.createElement(c.a,{history:E,component:b},o.a.createElement("div",null,o.a.createElement(l.a,{path:"/",render:function(e){return o.a.createElement(b,Object.assign({auth:O},e))}}),o.a.createElement(l.a,{path:"/login",render:function(e){return o.a.createElement(f,Object.assign({auth:O},e))}}),o.a.createElement(l.a,{path:"/callback",render:function(e){return j(e),o.a.createElement(k,e)}})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,n){e.exports=n(122)},61:function(e,t,n){},63:function(e,t,n){}},[[56,2,1]]]);
//# sourceMappingURL=main.2b5b289f.chunk.js.map